<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Snake Game</title>
  <style>
    body {
      font-family: 'Roboto', Arial, sans-serif;
      text-align: center;
      margin: 0;
      padding: 0;
      background: linear-gradient(135deg, #3a6e9f, #5a8fce);
      color: #fff;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: flex-start;
      min-height: 100vh;
      padding-top: 20px;
    }

    h1 {
      font-size: 3em;
      font-weight: 700;
      color: #fff;
      margin-bottom: 20px;
      text-shadow: 2px 2px 5px rgba(0, 0, 0, 0.3);
    }

    #game-container {
      display: flex;
      flex-direction: column;
      align-items: center;
      background: #ffffff;
      border-radius: 15px;
      padding: 20px;
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.25);
      max-width: 400px;
      width: 90%;
      margin-top: 10px;
      position: relative;
    }

    .scoreboard {
      font-size: 1.2em;
      margin-bottom: 20px;
      color: black;
      background: rgba(255, 255, 255, 0.8);
      padding: 10px;
      border-radius: 10px;
      display: flex;
      justify-content: space-between;
      width: 200px;
    }

    .scoreboard p {
      margin: 0;
    }

    .score-item {
      text-align: center;
      flex: 1;
    }

    .score-item span {
      font-size: 1.5em;
      font-weight: bold;
      display: block;
      margin-top: 5px;
      color: #333;
    }

    #board {
      display: grid;
      grid-template-columns: repeat(10, 1fr); /* 10x10 grid */
      gap: 2px;
      width: 100%;
      max-width: 300px;
    }

    .cell {
      background: #f4f4f4;
      border-radius: 10px;
      border: 2px solid #ddd;
      font-size: 2.5em;
      font-weight: bold;
      color: #333;
      text-align: center;
      line-height: 30px;
      height: 30px;
      cursor: pointer;
      transition: background-color 0.3s, transform 0.2s;
    }

    .cell.snake {
      background: #32cd32;
    }

    .cell.food {
      background: #ff6347;
    }

    .cell:hover {
      background: #e0e0e0;
      transform: scale(1.05);
    }

    .scoreboard {
      font-size: 1.2em;
      margin-bottom: 20px;
      color: black;
      background: rgba(255, 255, 255, 0.8);
      padding: 10px;
      border-radius: 10px;
      display: flex;
      justify-content: space-between;
      width: 200px;
    }

    #reset {
      background: #ff4081;
      color: white;
      padding: 10px 20px;
      font-size: 1em;
      border: none;
      border-radius: 30px;
      cursor: pointer;
      margin-top: 20px;
      box-shadow: 0 3px 6px rgba(0, 0, 0, 0.2);
    }

  </style>
</head>
<body>
  <h1>Snake Game</h1>

  <div id="game-container">
    <div class="scoreboard">
      <div class="score-item">
        Score <span id="score">0</span>
      </div>
      <div class="score-item">
        High Score <span id="high-score">0</span>
      </div>
    </div>

    <div id="board"></div>
    <button id="reset">Play Again</button>
  </div>

  <script>
    const boardElement = document.getElementById("board");
    const scoreElement = document.getElementById("score");
    const highScoreElement = document.getElementById("high-score");
    const resetButton = document.getElementById("reset");
    const boardSize = 10;
    let boardState = Array(boardSize * boardSize).fill(null);
    let snake = [{ x: 2, y: 2 }];
    let food = { x: 5, y: 5 };
    let direction = "RIGHT";
    let score = 0;
    let highScore = localStorage.getItem("snake-high-score") || 0;

    function updateScoreboard() {
      scoreElement.textContent = score;
      highScoreElement.textContent = highScore;
    }

    function drawBoard() {
      boardElement.innerHTML = "";
      for (let y = 0; y < boardSize; y++) {
        for (let x = 0; x < boardSize; x++) {
          const index = y * boardSize + x;
          const cell = document.createElement("div");
          cell.className = "cell";
          if (isSnake(x, y)) {
            cell.classList.add("snake");
          } else if (isFood(x, y)) {
            cell.classList.add("food");
          }
          boardElement.appendChild(cell);
        }
      }
    }

    function isSnake(x, y) {
      return snake.some(segment => segment.x === x && segment.y === y);
    }

    function isFood(x, y) {
      return food.x === x && food.y === y;
    }

    function moveSnake() {
      let head = { ...snake[0] };

      if (direction === "UP") head.y -= 1;
      if (direction === "DOWN") head.y += 1;
      if (direction === "LEFT") head.x -= 1;
      if (direction === "RIGHT") head.x += 1;

      // Check for collision with walls or snake body
      if (head.x < 0 || head.x >= boardSize || head.y < 0 || head.y >= boardSize || isSnake(head.x, head.y)) {
        endGame();
        return;
      }

      snake.unshift(head);

      // Check for food collision
      if (head.x === food.x && head.y === food.y) {
        score++;
        food = generateFood();
      } else {
        snake.pop(); // Remove tail if no food is eaten
      }

      drawBoard();
      updateScoreboard();
    }

    function generateFood() {
      let x, y;
      do {
        x = Math.floor(Math.random() * boardSize);
        y = Math.floor(Math.random() * boardSize);
      } while (isSnake(x, y));
      return { x, y };
    }

    function endGame() {
      if (score > highScore) {
        highScore = score;
        localStorage.setItem("snake-high-score", highScore);
      }
      score = 0;
      drawBoard();
      updateScoreboard();
      alert("Game Over!");
    }

    document.addEventListener("keydown", (e) => {
      if (e.key === "ArrowUp" && direction !== "DOWN") direction = "UP";
      if (e.key === "ArrowDown" && direction !== "UP") direction = "DOWN";
      if (e.key === "ArrowLeft" && direction !== "RIGHT") direction = "LEFT";
      if (e.key === "ArrowRight" && direction !== "LEFT") direction = "RIGHT";
    });

    resetButton.addEventListener("click", () => {
      snake = [{ x: 2, y: 2 }];
      food = generateFood();
      direction = "RIGHT";
      score = 0;
      drawBoard();
      updateScoreboard();
    });

    function gameLoop() {
      setTimeout(() => {
        moveSnake();
        if (snake.length > 0) gameLoop();
      }, 200);
    }

    drawBoard();
    updateScoreboard();
    gameLoop();
  </script>
</body>
</html>
